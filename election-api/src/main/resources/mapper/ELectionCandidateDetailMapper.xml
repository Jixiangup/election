<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bnyte.election.api.mapper.ElectionCandidateDetailMapper">

    <!-- 表名称 -->
    <sql id="table_name">
        t_election_candidate_detail
    </sql>

    <!-- 数据库所有字段 -->
    <sql id="all_field" >
        id,
        candidate_id,
        election_id,
        userid,
        create_time,
        modified_time,
        deleted
    </sql>
    <insert id="save">
        insert into <include refid="table_name" /> (<include refid="all_field" />) values
        (null, #{item.candidateId}, #{item.electionId}, #{item.userid}, #{item.createTime}, #{item.modifiedTime}, #{item.deleted})
    </insert>
    <select id="selectVoteByUserid" resultType="com.bnyte.election.api.entity.ElectionCandidateDetail">
        select <include refid="all_field" /> from <include refid="table_name" /> where userid = #{userid} and election_id = #{electionId}
    </select>
</mapper>